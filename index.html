<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nha Trang Hotel Concierge</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #222222);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
        .secondary-bg { background-color: var(--tg-theme-secondary-bg-color, #f4f4f4); }
        .btn-main { background-color: var(--tg-theme-button-color, #2481cc); color: var(--tg-theme-button-text-color, #ffffff); }
        .hint { color: var(--tg-theme-hint-color, #999999); }
        .card { background-color: var(--tg-theme-secondary-bg-color, #f8f8f8); border-radius: 12px; }
        .hidden { display: none; }
    </style>
</head>
<body class="pb-24">

    <header class="p-4 sticky top-0 z-10 secondary-bg border-b border-black/10">
        <div class="flex justify-between items-center">
            <div>
                <h1 class="text-xl font-bold">Nha Trang Plaza üå¥</h1>
                <p id="room-info" class="text-sm hint">Room: 302 | Guest Mode</p>
            </div>
            <div id="status-online" class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
        </div>
    </header>

    <main class="p-4 space-y-6">

        <div class="flex space-x-2 overflow-x-auto no-scrollbar py-2">
            <button onclick="switchTab('food')" class="px-4 py-2 rounded-full btn-main text-sm whitespace-nowrap">üç¥ –ï–¥–∞</button>
            <button onclick="switchTab('tours')" class="px-4 py-2 rounded-full card text-sm whitespace-nowrap">üöê –≠–∫—Å–∫—É—Ä—Å–∏–∏</button>
            <button onclick="switchTab('info')" class="px-4 py-2 rounded-full card text-sm whitespace-nowrap">‚ÑπÔ∏è –ò–Ω—Ñ–æ</button>
        </div>

        <section id="section-food" class="space-y-4">
            <h2 class="text-lg font-bold">–ú–µ–Ω—é –≤ –Ω–æ–º–µ—Ä</h2>
            
            <div class="card p-4 flex justify-between items-center">
                <div>
                    <h3 class="font-semibold">–§–æ –ë–æ (Beef Noodles)</h3>
                    <p class="text-xs hint italic">–ö–ª–∞—Å—Å–∏–∫–∞ –í—å–µ—Ç–Ω–∞–º–∞</p>
                    <p class="font-bold text-blue-500 mt-1">75.000 VND</p>
                </div>
                <button onclick="handleOrder('üç≤ –§–æ –ë–æ', '75k')" class="btn-main px-4 py-2 rounded-lg text-sm font-bold active:scale-95 transition-transform">–ó–∞–∫–∞–∑–∞—Ç—å</button>
            </div>

            <div class="card p-4 flex justify-between items-center">
                <div>
                    <h3 class="font-semibold">–ú–∞—Ç—á–∞ –õ–∞—Ç—Ç–µ –•–æ–ª–æ–¥–Ω–∞—è</h3>
                    <p class="text-xs hint italic">–Ø–ø–æ–Ω—Å–∫–∏–π —á–∞–π, –º–æ–ª–æ–∫–æ</p>
                    <p class="font-bold text-blue-500 mt-1">45.000 VND</p>
                </div>
                <button onclick="handleOrder('üçµ –ú–∞—Ç—á–∞ –õ–∞—Ç—Ç–µ', '45k')" class="btn-main px-4 py-2 rounded-lg text-sm font-bold active:scale-95 transition-transform">–ó–∞–∫–∞–∑–∞—Ç—å</button>
            </div>
        </section>

        <section id="section-tours" class="hidden space-y-4">
            <h2 class="text-lg font-bold">–≠–∫—Å–∫—É—Ä—Å–∏–∏ –∏–∑ –æ—Ç–µ–ª—è</h2>
            <div class="card overflow-hidden">
                <img src="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?auto=format&fit=crop&w=500&q=60" class="w-full h-32 object-cover" alt="Dalat">
                <div class="p-4">
                    <h3 class="font-bold">–î–∞–ª–∞—Ç: –ì–æ—Ä–æ–¥ –í–µ—Å–Ω—ã</h3>
                    <p class="text-xs hint mt-1">–í–æ–¥–æ–ø–∞–¥—ã, Crazy House, –¥–µ–≥—É—Å—Ç–∞—Ü–∏—è –∫–æ—Ñ–µ.</p>
                    <button onclick="handleOrder('üöê –¢—É—Ä –≤ –î–∞–ª–∞—Ç', '45$')" class="btn-main w-full mt-3 py-2 rounded-lg font-bold">–ë—Ä–æ–Ω—å $45</button>
                </div>
            </div>
        </section>

        <section id="section-info" class="hidden space-y-4">
            <h2 class="text-lg font-bold">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ</h2>
            <div class="card p-4 space-y-3">
                <div class="flex justify-between border-b border-black/5 pb-2">
                    <span class="hint text-sm">Wi-Fi Password:</span>
                    <span class="font-mono font-bold">NhaTrang888</span>
                </div>
                <div class="flex justify-between border-b border-black/5 pb-2">
                    <span class="hint text-sm">Breakfast Time:</span>
                    <span class="font-bold">06:30 - 10:00</span>
                </div>
                <div class="flex justify-between">
                    <span class="hint text-sm">Gym / Pool:</span>
                    <span class="font-bold">07:00 - 21:00</span>
                </div>
            </div>
        </section>

    </main>

    <div class="fixed bottom-0 left-0 right-0 p-4 secondary-bg border-t border-black/10 flex justify-around">
        <button onclick="tg.close()" class="text-xs opacity-50">–ó–∞–∫—Ä—ã—Ç—å</button>
        <button onclick="handleOrder('üÜò –ü–æ–º–æ—â—å —Ä–µ—Å–µ–ø—à–Ω', '0')" class="font-bold text-blue-500">–°–≤—è–∑–∞—Ç—å—Å—è —Å –æ—Ç–µ–ª–µ–º</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.ready();

        // –°–º–µ–Ω–∞ –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tab) {
            document.getElementById('section-food').classList.add('hidden');
            document.getElementById('section-tours').classList.add('hidden');
            document.getElementById('section-info').classList.add('hidden');
            document.getElementById(`section-${tab}`).classList.remove('hidden');
            tg.HapticFeedback.impactOccurred('light'); // –í–∏–±—Ä–æ–æ—Ç–∫–ª–∏–∫
        }

        // –õ–æ–≥–∏–∫–∞ –∑–∞–∫–∞–∑–∞
        function handleOrder(item, price) {
            tg.showConfirm(`–í—ã –∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç–µ ${item}. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å?`, (confirm) => {
                if (confirm) {
                    const data = JSON.stringify({
                        order: item,
                        price: price,
                        room: '302',
                        user: tg.initDataUnsafe?.user?.username || 'Guest'
                    });
                    tg.sendData(data); // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç—É
                    tg.close();
                }
            });
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        document.getElementById('room-info').innerText = `Guest: ${tg.initDataUnsafe?.user?.first_name || 'Admin'} | Room: 302`;
    </script>
</body>
</html>
